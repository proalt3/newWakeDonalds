<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Orders ‚Äî Wakedonalds Admin</title>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;1,400&family=Outfit:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        /* Page UI ‚Äî same as admin */
        :root {
            --bg:#faf8f5; --white:#ffffff; --ink:#1a1714; --ink2:#4a4540;
            --muted:#9e9890; --border:#e8e4de; --accent:#c8913a;
            --accent-light:#f5ead8; --accent-dark:#a6722a; --red:#d94f3d;
            --green:#3d8c5c; --surface:#f2ede6;
            --shadow:0 2px 16px rgba(26,23,20,0.08);
            --shadow-lg:0 8px 40px rgba(26,23,20,0.12);
        }
        *{margin:0;padding:0;box-sizing:border-box;}
        html{width:100%;overflow-x:hidden;}
        body{font-family:'Outfit',sans-serif;background:var(--bg);color:var(--ink);min-height:100vh;width:100%;overflow-x:hidden;}
        .nav{position:sticky;top:0;z-index:100;background:var(--white);border-bottom:1px solid var(--border);padding:0 32px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:8px;min-height:64px;box-shadow:0 1px 0 var(--border);padding-left:max(32px,env(safe-area-inset-left));padding-right:max(32px,env(safe-area-inset-right));}
        .logo{font-family:'Cormorant Garamond',serif;font-size:26px;font-weight:600;letter-spacing:0.04em;}
        .logo span{color:var(--accent);font-style:italic;}
        .nav-right{display:flex;align-items:center;gap:12px;flex-wrap:wrap;}
        .back-btn{background:none;border:1px solid var(--border);border-radius:8px;padding:8px 14px;cursor:pointer;font-family:'Outfit',sans-serif;font-size:13px;color:var(--ink2);transition:all 0.2s;text-decoration:none;color:var(--ink2);}
        .back-btn:hover{border-color:var(--ink);color:var(--ink);}
        .btn-admin{font-size:12px;font-weight:500;letter-spacing:0.06em;text-transform:uppercase;color:var(--muted);background:none;border:1px solid var(--border);border-radius:6px;padding:7px 14px;cursor:pointer;text-decoration:none;color:var(--ink2);}
        .btn-admin:hover{color:var(--ink);border-color:var(--ink2);}
        .btn-logout{font-size:12px;font-weight:500;letter-spacing:0.06em;text-transform:uppercase;color:var(--red);background:none;border:1px solid var(--red);border-radius:6px;padding:7px 14px;cursor:pointer;transition:all 0.2s;}
        .btn-logout:hover{background:var(--red);color:white;}
        .admin-layout{display:flex;min-height:calc(100vh - 64px);min-width:0;overflow:hidden;}
        .admin-sidebar{width:220px;background:var(--ink);color:white;padding:24px 0;flex-shrink:0;}
        .sidebar-logo{font-family:'Cormorant Garamond',serif;font-size:22px;font-weight:600;color:white;padding:0 20px 24px;border-bottom:1px solid rgba(255,255,255,0.1);margin-bottom:12px;}
        .sidebar-logo span{color:var(--accent);font-style:italic;}
        .sidebar-link{display:flex;align-items:center;gap:10px;padding:11px 20px;font-size:13px;font-weight:500;color:rgba(255,255,255,0.6);cursor:pointer;transition:all 0.15s;border-left:3px solid transparent;text-decoration:none;color:rgba(255,255,255,0.6);}
        .sidebar-link:hover{color:white;background:rgba(255,255,255,0.06);}
        .sidebar-link.active{color:white;background:rgba(200,145,58,0.15);border-left-color:var(--accent);}
        .admin-main{flex:1;min-width:0;padding:24px 32px;overflow:auto;display:flex;flex-direction:column;}
        .google-translate-wrap{display:inline-block;vertical-align:middle;}
        .google-translate-wrap .skiptranslate{font-size:0;}
        .google-translate-wrap iframe{max-height:32px;}
        .toast{position:fixed;bottom:max(24px,env(safe-area-inset-bottom));left:50%;transform:translateX(-50%) translateY(80px);background:var(--ink);color:white;padding:12px 22px;border-radius:30px;font-size:13px;font-weight:500;z-index:3000;transition:transform 0.3s cubic-bezier(0.34,1.56,0.64,1);pointer-events:none;max-width:calc(100vw - 32px);}
        .toast.show{transform:translateX(-50%) translateY(0);}

        /* Live orders ‚Äî status filter bar (dark theme like reference) */
        .orders-page-title{font-family:'Cormorant Garamond',serif;font-size:26px;font-weight:600;margin-bottom:0;color:var(--ink);}
        .live-orders-panel{display:flex;flex-direction:column;flex:1;min-height:0;position:relative;}
        .live-orders-panel-header{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:12px;margin-bottom:16px;}
        .live-orders-panel-header .orders-page-title{margin-bottom:0;}
        .minimize-btn,.expand-btn{width:36px;height:36px;border-radius:8px;border:1px solid var(--border);background:var(--white);color:var(--ink2);font-size:20px;line-height:1;cursor:pointer;display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:all 0.2s;}
        .minimize-btn:hover,.expand-btn:hover{background:var(--surface);border-color:var(--accent);color:var(--accent);}
        .live-orders-panel-minimized{display:none;align-items:center;justify-content:space-between;gap:12px;padding:12px 16px;background:var(--white);border:1px solid var(--border);border-radius:12px;box-shadow:var(--shadow);}
        .live-orders-panel.minimized .live-orders-panel-body{display:none;}
        .live-orders-panel.minimized .live-orders-panel-minimized{display:flex;}
        .live-orders-panel.minimized .live-orders-panel-header{margin-bottom:0;}
        .live-orders-panel.minimized .minimize-btn{display:none;}
        .orders-status-bar{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:20px;padding:12px 0;}
        .orders-status-tab{display:inline-flex;align-items:center;gap:6px;padding:10px 16px;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;background:#2d2a26;color:rgba(255,255,255,0.85);border:1px solid rgba(255,255,255,0.1);transition:all 0.2s;}
        .orders-status-tab:hover{background:#3a3632;color:white;}
        .orders-status-tab.active{background:#3d6cb9;color:white;border-color:#3d6cb9;}
        .orders-status-tab .count{background:rgba(255,255,255,0.2);padding:2px 8px;border-radius:12px;font-size:12px;font-weight:600;}
        .orders-status-tab.active .count{background:rgba(255,255,255,0.3);}

        /* Horizontal scroll of order cards */
        .orders-cards-wrap{flex:1;overflow-x:auto;overflow-y:auto;padding-bottom:24px;-webkit-overflow-scrolling:touch;}
        .orders-cards{display:flex;gap:20px;min-height:200px;padding:8px 0;}
        .orders-cards.empty{align-items:center;justify-content:center;color:var(--muted);font-size:15px;}

        /* Single order card ‚Äî dark theme (reference UI) */
        .order-card{flex:0 0 360px;max-width:360px;min-height:320px;display:flex;flex-direction:column;background:#252220;border-radius:12px;overflow:hidden;border:1px solid rgba(255,255,255,0.08);box-shadow:0 4px 20px rgba(0,0,0,0.25);}
        .order-card-header{background:#2d3a6b;color:white;padding:14px 16px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:8px;}
        .order-card.ready-for-pickup .order-card-header{background:#b91c1c;}
        .order-card.ready-for-pickup{border-color:rgba(185,28,28,0.5);box-shadow:0 4px 20px rgba(185,28,28,0.2);}
        .order-card-status{font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:0.06em;opacity:0.95;}
        .order-card-customer{font-size:18px;font-weight:600;}
        .order-card-ready{font-size:12px;opacity:0.9;}
        .order-card-body{flex:1;padding:16px;color:rgba(255,255,255,0.9);font-size:13px;overflow-y:auto;}
        .order-card-meta{display:flex;flex-direction:column;gap:8px;margin-bottom:12px;}
        .order-card-meta span{display:flex;align-items:center;gap:8px;}
        .order-card-meta .icon{opacity:0.8;}
        .order-card-notes{margin-bottom:12px;padding:10px 12px;background:rgba(255,193,7,0.15);border-radius:8px;border:1px solid rgba(255,193,7,0.3);}
        .order-card-notes-title{display:flex;align-items:center;gap:6px;font-size:12px;font-weight:600;color:#ffc107;margin-bottom:6px;}
        .order-card-notes-text{font-size:13px;color:rgba(255,193,7,0.95);}
        .order-card-items{margin-bottom:12px;}
        .order-card-items-title{font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:0.06em;color:rgba(255,255,255,0.6);margin-bottom:8px;}
        .order-card-item{display:flex;justify-content:space-between;align-items:flex-start;gap:8px;padding:6px 0;border-bottom:1px solid rgba(255,255,255,0.06);font-size:13px;}
        .order-card-item:last-child{border-bottom:none;}
        .order-card-item-name{flex:1;}
        .order-card-item-qty{color:rgba(255,255,255,0.7);}
        .order-card-item-price{font-weight:500;}
        .order-card-totals{padding-top:10px;border-top:1px solid rgba(255,255,255,0.1);font-size:13px;}
        .order-card-totals div{display:flex;justify-content:space-between;margin-bottom:4px;}
        .order-card-totals .total-line{font-weight:600;font-size:14px;margin-top:6px;}
        .order-card-footer{padding:14px 16px;background:rgba(0,0,0,0.2);border-top:1px solid rgba(255,255,255,0.06);}
        .order-card-btn{width:100%;padding:12px 16px;border:none;border-radius:8px;font-family:'Outfit',sans-serif;font-size:14px;font-weight:600;cursor:pointer;transition:all 0.2s;background:#3d6cb9;color:white;}
        .order-card-btn:hover{background:#4a7ac9;}
        .order-card-btn.picked{background:var(--green);}
        .order-card-btn.picked:hover{background:#4a9c6c;}
        .order-card-btn:disabled{opacity:0.6;cursor:not-allowed;}
        .order-card-footer-actions{display:flex;flex-direction:column;gap:8px;}
        .order-card-delete{display:block;text-align:center;padding:8px;font-size:12px;color:rgba(255,255,255,0.6);background:none;border:none;cursor:pointer;text-decoration:underline;transition:color 0.2s;}
        .order-card-delete:hover{color:#ef4444;}

        @media (max-width: 900px) {
            .nav{padding:0 16px;padding-left:max(16px,env(safe-area-inset-left));padding-right:max(16px,env(safe-area-inset-right));}
            .admin-sidebar{width:100%;display:flex;padding:12px;gap:8px;}
            .admin-sidebar .sidebar-logo{display:none;}
            .sidebar-link{padding:12px 16px;border-radius:8px;border-left:none;}
            .admin-main{padding:16px;padding-left:max(16px,env(safe-area-inset-left));padding-right:max(16px,env(safe-area-inset-right));}
            .order-card{flex:0 0 min(320px,100%);max-width:min(320px,100%);min-width:260px;}
        }
        @media (max-width: 600px) {
            .order-card{flex:0 0 min(280px,100%);max-width:min(280px,100%);min-width:240px;}
        }
    </style>
</head>
<body>
    <nav class="nav">
        <a href="admin.html" class="back-btn" data-i18n="nav_back_admin">‚Üê Back to Admin</a>
        <div class="logo">Wake<span>¬∑</span>Donalds üçî Live Orders</div>
        <div class="nav-right">
            <div id="google_translate_element" class="google-translate-wrap"></div>
            <a href="admin.html" class="btn-admin" data-i18n="admin_overview">üìä Admin</a>
            <span id="nav-user" style="font-size:13px;color:var(--muted);"></span>
            <button class="btn-logout" onclick="logout()" data-i18n="nav_logout">Logout</button>
        </div>
    </nav>

    <div class="admin-layout">
        <aside class="admin-sidebar">
            <div class="sidebar-logo">Wake<span>¬∑</span>Donalds</div>
            <a href="admin-orders.html" class="sidebar-link active"><span>üìã</span> <span data-i18n="admin_live_orders">Live Orders</span></a>
            <a href="admin.html" class="sidebar-link"><span>üìä</span> <span data-i18n="admin_overview">Overview</span></a>
            <a href="admin.html" class="sidebar-link"><span>üßæ</span> <span data-i18n="admin_all_orders">All Orders</span></a>
        </aside>
        <main class="admin-main">
            <div class="live-orders-panel" id="live-orders-panel">
                <div class="live-orders-panel-header">
                    <h1 class="orders-page-title" data-i18n="admin_live_orders">Live Orders</h1>
                    <button type="button" class="minimize-btn" id="live-orders-minimize" aria-label="Minimize" title="Minimize">‚àí</button>
                </div>
                <div class="live-orders-panel-body">
            <div class="orders-status-bar">
                <button type="button" class="orders-status-tab active" data-filter="all">
                    <span data-i18n="orders_filter_all">All</span>
                    <span class="count" id="count-all">0</span>
                </button>
                <button type="button" class="orders-status-tab" data-filter="needs_action">
                    <span data-i18n="orders_filter_needs_action">Needs action</span>
                    <span class="count" id="count-needs_action">0</span>
                </button>
                <button type="button" class="orders-status-tab" data-filter="in_progress">
                    <span data-i18n="orders_filter_in_progress">In progress</span>
                    <span class="count" id="count-in_progress">0</span>
                </button>
                <button type="button" class="orders-status-tab" data-filter="ready">
                    <span data-i18n="orders_filter_ready">Ready</span>
                    <span class="count" id="count-ready">0</span>
                </button>
                <button type="button" class="orders-status-tab" data-filter="scheduled">
                    <span data-i18n="orders_filter_scheduled">Scheduled</span>
                    <span class="count" id="count-scheduled">0</span>
                </button>
            </div>
            <div class="orders-cards-wrap">
                <div class="orders-cards" id="orders-cards"></div>
                <div class="empty-state" id="orders-empty" style="display:none;color:var(--muted);font-size:15px;padding:40px;text-align:center;">No orders in this filter.</div>
            </div>
                </div>
                <div class="live-orders-panel-minimized">
                    <span data-i18n="admin_live_orders">Live Orders</span>
                    <span class="count" id="minimized-count">0</span>
                    <button type="button" class="expand-btn" id="live-orders-expand" aria-label="Expand" title="Expand">+</button>
                </div>
            </div>
        </main>
    </div>

    <div class="toast" id="toast"></div>

    <script src="js/google-translate.js"></script>
    <script src="js/i18n.js"></script>
    <script src="js/admin-orders.js"></script>
</body>
</html>
