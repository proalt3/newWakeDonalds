<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order History ‚Äî Wakedonalds</title>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;1,400&family=Outfit:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg:#faf8f5; --white:#ffffff; --ink:#1a1714; --ink2:#4a4540;
            --muted:#9e9890; --border:#e8e4de; --accent:#c8913a;
            --accent-light:#f5ead8; --accent-dark:#a6722a; --red:#d94f3d;
            --green:#3d8c5c; --surface:#f2ede6;
            --shadow:0 2px 16px rgba(26,23,20,0.08);
            --shadow-lg:0 8px 40px rgba(26,23,20,0.12);
        }
        *{margin:0;padding:0;box-sizing:border-box;}
        html{width:100%;overflow-x:hidden;}
        body{font-family:'Outfit',sans-serif;background:var(--bg);color:var(--ink);min-height:100vh;width:100%;overflow-x:hidden;}
        .nav{position:sticky;top:0;z-index:100;background:var(--white);border-bottom:1px solid var(--border);padding:0 32px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:8px;min-height:64px;box-shadow:0 1px 0 var(--border);padding-left:max(32px,env(safe-area-inset-left));padding-right:max(32px,env(safe-area-inset-right));}
        .logo{font-family:'Cormorant Garamond',serif;font-size:26px;font-weight:600;letter-spacing:0.04em;}
        .logo span{color:var(--accent);font-style:italic;}
        .nav-right{display:flex;align-items:center;gap:12px;flex-wrap:wrap;}
        .back-btn{background:none;border:1px solid var(--border);border-radius:8px;padding:8px 14px;cursor:pointer;font-family:'Outfit',sans-serif;font-size:13px;color:var(--ink2);transition:all 0.2s;text-decoration:none;color:var(--ink2);}
        .back-btn:hover{border-color:var(--ink);color:var(--ink);}
        .btn-logout{font-size:12px;font-weight:500;letter-spacing:0.06em;text-transform:uppercase;color:var(--red);background:none;border:1px solid var(--red);border-radius:6px;padding:7px 14px;cursor:pointer;transition:all 0.2s;}
        .btn-logout:hover{background:var(--red);color:white;}
        .page-wrap{max-width:720px;width:100%;margin:0 auto;padding:32px 24px;min-width:0;padding-left:max(24px,env(safe-area-inset-left));padding-right:max(24px,env(safe-area-inset-right));}
        .page-title{font-family:'Cormorant Garamond',serif;font-size:28px;font-weight:600;margin-bottom:8px;}
        .page-sub{font-size:14px;color:var(--muted);margin-bottom:28px;}
        .order-card{background:var(--white);border:1px solid var(--border);border-radius:12px;overflow:hidden;margin-bottom:20px;box-shadow:var(--shadow);transition:box-shadow 0.2s;}
        .order-card:hover{box-shadow:var(--shadow-lg);}
        .order-card-head{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:12px;padding:16px 20px;border-bottom:1px solid var(--border);background:var(--surface);}
        .order-num{font-weight:600;font-size:16px;color:var(--ink);}
        .order-date{font-size:13px;color:var(--muted);}
        .status-badge{display:inline-flex;align-items:center;gap:5px;padding:4px 10px;border-radius:20px;font-size:11px;font-weight:600;}
        .status-badge.active{background:#e8f5ee;color:var(--green);}
        .status-badge.done{background:#e8f5ee;color:var(--green);}
        .status-badge.default{background:var(--accent-light);color:var(--accent-dark);}
        .order-card-body{padding:16px 20px;}
        .order-items-list{list-style:none;}
        .order-items-list li{display:flex;justify-content:space-between;padding:8px 0;font-size:14px;color:var(--ink2);border-bottom:1px solid var(--border);}
        .order-items-list li:last-child{border-bottom:none;}
        .order-items-list .item-name{color:var(--ink);font-weight:500;}
        .order-items-list .item-qty{color:var(--muted);margin-left:6px;}
        .order-total-row{display:flex;justify-content:space-between;padding-top:12px;margin-top:12px;border-top:1px solid var(--border);font-weight:600;font-size:15px;color:var(--ink);}
        .order-total-row .val{font-family:'Cormorant Garamond',serif;font-size:20px;color:var(--accent);}
        .order-notes{margin-top:10px;padding-top:10px;border-top:1px solid var(--border);font-size:12px;color:var(--muted);font-style:italic;}
        .empty-state{text-align:center;padding:60px 24px;}
        .empty-state .icon{font-size:56px;margin-bottom:16px;opacity:0.6;}
        .empty-state h2{font-family:'Cormorant Garamond',serif;font-size:24px;font-weight:600;margin-bottom:8px;}
        .empty-state p{color:var(--muted);font-size:15px;margin-bottom:24px;line-height:1.5;}
        .btn-primary{display:inline-block;background:var(--accent);color:white;border:none;border-radius:10px;padding:12px 24px;font-family:'Outfit',sans-serif;font-size:14px;font-weight:600;cursor:pointer;text-decoration:none;transition:background 0.2s;}
        .btn-primary:hover{background:var(--accent-dark);}
        .guest-prompt{background:var(--white);border:1px solid var(--border);border-radius:16px;padding:48px 32px;text-align:center;max-width:420px;margin:40px auto;}
        .guest-prompt .icon{font-size:64px;margin-bottom:20px;}
        .guest-prompt h2{font-family:'Cormorant Garamond',serif;font-size:26px;font-weight:600;margin-bottom:10px;}
        .guest-prompt p{color:var(--muted);font-size:15px;margin-bottom:24px;}
        .loading{text-align:center;padding:48px;color:var(--muted);}
        @keyframes fadeUp{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}
        .order-card{animation:fadeUp 0.35s ease both;}
        .order-card:nth-child(1){animation-delay:0.05s;}
        .order-card:nth-child(2){animation-delay:0.1s;}
        .order-card:nth-child(3){animation-delay:0.15s;}
        .order-card:nth-child(4){animation-delay:0.2s;}
        .order-card:nth-child(5){animation-delay:0.25s;}
        .order-card:nth-child(n+6){animation-delay:0.3s;}
        .date-filter{display:flex;align-items:center;gap:12px;margin-bottom:24px;flex-wrap:wrap;}
        .date-filter label{font-size:13px;font-weight:500;color:var(--ink2);flex-shrink:0;}
        .date-filter input[type="date"]{padding:10px 14px;border:1px solid var(--border);border-radius:8px;font-family:'Outfit',sans-serif;font-size:14px;color:var(--ink);background:var(--white);outline:none;min-width:0;}
        .date-filter input[type="date"]:focus{border-color:var(--accent);}
        .date-filter .btn-clear-date{background:none;border:1px solid var(--border);border-radius:8px;padding:8px 14px;font-size:13px;color:var(--muted);cursor:pointer;transition:all 0.2s;}
        .date-filter .btn-clear-date:hover{color:var(--ink);border-color:var(--ink2);}
        .date-filter-wrap{background:var(--white);border:1px solid var(--border);border-radius:12px;padding:16px 20px;margin-bottom:24px;}
        .google-translate-wrap{display:inline-block;vertical-align:middle;}
        .google-translate-wrap .skiptranslate{font-size:0;}
        .google-translate-wrap iframe{max-height:32px;}
        @media (max-width: 768px) {
            body{padding-bottom:env(safe-area-inset-bottom);}
            .nav{padding:0 16px;min-height:56px;padding-left:max(16px,env(safe-area-inset-left));}
            .nav .logo{font-size:20px;}
            .back-btn,.btn-logout{min-height:44px;}
            .page-wrap{padding:20px 16px;padding-left:max(16px,env(safe-area-inset-left));padding-right:max(16px,env(safe-area-inset-right));}
            .page-title{font-size:24px;}
            .order-card-head,.order-card-body{padding:14px 16px;}
            .date-filter-wrap{padding:14px 16px;}
            .date-filter input[type="date"]{min-height:44px;font-size:16px;}
            .btn-clear-date{min-height:44px;}
            .guest-prompt{padding:32px 20px;margin:24px 16px;}
        }
    </style>
</head>
<body>
    <nav class="nav">
        <a href="restaurant-pos.html" class="back-btn" data-i18n="nav_back_menu">‚Üê Back to Menu</a>
        <div class="logo">Wake<span>¬∑</span>Donalds üçî</div>
        <div class="nav-right">
            <div id="google_translate_element" class="google-translate-wrap"></div>
            <span id="nav-user" style="font-size:13px;color:var(--muted);"></span>
            <button class="btn-logout" onclick="logout()" data-i18n="nav_logout">Logout</button>
        </div>
    </nav>

    <div class="page-wrap">
        <h1 class="page-title" data-i18n="oh_title">Order History</h1>
        <p class="page-sub" id="page-sub">Your past orders</p>

        <div class="date-filter-wrap" id="date-filter-wrap" style="display:none;">
            <div class="date-filter">
                <label for="order-date-picker">üìÖ <span data-i18n="oh_show_orders_from">Show orders from</span></label>
                <input type="date" id="order-date-picker" aria-label="Pick a day to filter orders"/>
                <button type="button" class="btn-clear-date" id="btn-clear-date" data-i18n="oh_show_all">Show all</button>
            </div>
        </div>

        <div id="content">
            <div class="loading" id="loading">Loading your orders‚Ä¶</div>
            <div id="list" style="display:none;"></div>
            <div id="empty" style="display:none;"></div>
            <div id="guest-block" style="display:none;"></div>
        </div>
    </div>

<script src="js/google-translate.js"></script>
<script src="js/i18n.js"></script>
<script src="js/order-history.js"></script>
</body>
</html>
