<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wakedonalds ‚Äî POS</title>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;1,400&family=Outfit:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg:#faf8f5; --white:#ffffff; --ink:#1a1714; --ink2:#4a4540;
            --muted:#9e9890; --border:#e8e4de; --accent:#c8913a;
            --accent-light:#f5ead8; --accent-dark:#a6722a; --red:#d94f3d;
            --green:#3d8c5c; --surface:#f2ede6;
            --shadow:0 2px 16px rgba(26,23,20,0.08);
            --shadow-lg:0 8px 40px rgba(26,23,20,0.12);
        }
        *{margin:0;padding:0;box-sizing:border-box;}
        body{font-family:'Outfit',sans-serif;background:var(--bg);color:var(--ink);min-height:100vh;}
        .view{display:none;} .view.active{display:flex;}
        #view-menu{min-height:100vh;flex-direction:column;}
        .nav{position:sticky;top:0;z-index:100;background:var(--white);border-bottom:1px solid var(--border);padding:0 32px;display:flex;align-items:center;justify-content:space-between;height:64px;box-shadow:0 1px 0 var(--border);}
        .nav-logo-search{display:flex;align-items:center;gap:12px;flex:1;max-width:420px;}
        .logo{font-family:'Cormorant Garamond',serif;font-size:26px;font-weight:600;letter-spacing:0.04em;}
        .logo span{color:var(--accent);font-style:italic;}
        .nav-center{font-size:13px;color:var(--muted);}
        .nav-search{flex:1;min-width:0;max-width:280px;}
        .nav-search input{width:100%;padding:10px 14px 10px 36px;border:1px solid var(--border);border-radius:8px;font-size:13px;font-family:'Outfit',sans-serif;color:var(--ink);background:var(--bg) url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%239e9890' viewBox='0 0 16 16'%3E%3Cpath d='M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z'/%3E%3C/svg%3E") no-repeat 12px center;}
        .nav-search input:focus{outline:none;border-color:var(--accent);}
        .nav-search input::placeholder{color:var(--muted);}
        .nav-right{display:flex;align-items:center;gap:12px;}
        .btn-admin{font-size:12px;font-weight:500;letter-spacing:0.06em;text-transform:uppercase;color:var(--muted);background:none;border:1px solid var(--border);border-radius:6px;padding:7px 14px;cursor:pointer;transition:all 0.2s;}
        .btn-admin:hover{color:var(--ink);border-color:var(--ink2);}
        .btn-logout{font-size:12px;font-weight:500;letter-spacing:0.06em;text-transform:uppercase;color:var(--red);background:none;border:1px solid var(--red);border-radius:6px;padding:7px 14px;cursor:pointer;transition:all 0.2s;}
        .btn-logout:hover{background:var(--red);color:white;}
        .cart-btn{background:var(--accent);color:white;border:none;border-radius:8px;padding:9px 20px;font-family:'Outfit',sans-serif;font-size:14px;font-weight:500;cursor:pointer;display:flex;align-items:center;gap:10px;transition:background 0.2s,transform 0.1s;}
        .cart-btn:hover{background:var(--accent-dark);}
        .cart-btn:active{transform:scale(0.97);}
        .cart-count{background:white;color:var(--accent);border-radius:12px;min-width:22px;height:22px;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:600;}
        .category-bar{background:var(--white);border-bottom:1px solid var(--border);padding:0 32px;display:flex;gap:4px;overflow-x:auto;scrollbar-width:none;}
        .category-bar::-webkit-scrollbar{display:none;}
        .cat-tab{padding:14px 20px;font-size:13px;font-weight:500;color:var(--muted);border:none;background:none;cursor:pointer;white-space:nowrap;border-bottom:2px solid transparent;transition:all 0.2s;}
        .cat-tab:hover{color:var(--ink);}
        .cat-tab.active{color:var(--accent);border-bottom-color:var(--accent);}
        .menu-container{display:grid;grid-template-columns:1fr 320px;gap:24px;padding:32px;max-width:1400px;margin:0 auto;width:100%;align-items:start;}
        @media(max-width:1024px){.menu-container{grid-template-columns:1fr;}}
        .menu-body{flex:1;}
        .menu-content{padding:0;}
        .section-title{font-family:'Cormorant Garamond',serif;font-size:32px;font-weight:600;margin-bottom:6px;}
        .section-sub{font-size:13px;color:var(--muted);margin-bottom:24px;}
        .menu-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:20px;margin-bottom:48px;}
        .menu-card{background:var(--white);border:1px solid var(--border);border-radius:12px;overflow:hidden;transition:transform 0.2s,box-shadow 0.2s;animation:fadeUp 0.4s ease both;}
        .menu-card:hover{transform:translateY(-3px);box-shadow:var(--shadow-lg);}
        .menu-card-img{width:100%;height:160px;background:var(--surface);display:flex;align-items:center;justify-content:center;font-size:52px;}
        .menu-card-body{padding:16px;}
        .menu-card-top{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:6px;}
        .menu-card-name{font-weight:600;font-size:15px;line-height:1.3;}
        .menu-card-price{font-family:'Cormorant Garamond',serif;font-size:18px;font-weight:600;color:var(--accent);white-space:nowrap;margin-left:12px;}
        .menu-card-desc{font-size:12px;color:var(--muted);line-height:1.5;margin-bottom:14px;}
        .tag{display:inline-block;font-size:10px;font-weight:600;text-transform:uppercase;letter-spacing:0.08em;padding:3px 8px;border-radius:4px;margin-right:4px;margin-bottom:10px;}
        .tag-veg{background:#e8f5ee;color:var(--green);}
        .tag-spicy{background:#fdecea;color:var(--red);}
        .tag-popular{background:var(--accent-light);color:var(--accent-dark);}
        .add-btn{width:100%;background:var(--ink);color:white;border:none;border-radius:8px;padding:10px;font-family:'Outfit',sans-serif;font-size:13px;font-weight:500;cursor:pointer;transition:background 0.2s;display:flex;align-items:center;justify-content:center;gap:6px;}
        .add-btn:hover{background:var(--accent);}
        #view-cart{min-height:100vh;flex-direction:column;}
        .page-header{background:var(--white);border-bottom:1px solid var(--border);padding:0 32px;height:64px;display:flex;align-items:center;gap:16px;}
        .back-btn{background:none;border:1px solid var(--border);border-radius:8px;padding:8px 14px;cursor:pointer;font-family:'Outfit',sans-serif;font-size:13px;color:var(--ink2);transition:all 0.2s;}
        .back-btn:hover{border-color:var(--ink);color:var(--ink);}
        .page-title{font-family:'Cormorant Garamond',serif;font-size:24px;font-weight:600;}
        .cart-layout{display:grid;grid-template-columns:1fr 360px;gap:24px;padding:32px;max-width:1400px;margin:0 auto;width:100%;align-items:start;}
        @media(max-width:1200px){.cart-layout{grid-template-columns:1fr;}}
        .live-feed-panel{background:var(--white);border:1px solid var(--border);border-radius:12px;overflow:hidden;position:sticky;top:80px;box-shadow:var(--shadow);}
        .live-feed-header{background:linear-gradient(135deg,var(--accent-light),var(--white));padding:16px 18px;border-bottom:2px solid var(--accent);}
        .live-feed-title{font-family:'Cormorant Garamond',serif;font-size:20px;font-weight:600;color:var(--ink);display:flex;align-items:center;gap:10px;margin-bottom:4px;}
        .live-feed-title .pulse{width:10px;height:10px;background:var(--green);border-radius:50%;animation:pulse 2s infinite;box-shadow:0 0 8px rgba(61,140,92,0.4);}
        .live-feed-subtitle{font-size:11px;color:var(--muted);text-transform:uppercase;letter-spacing:0.08em;font-weight:500;}
        @keyframes pulse{0%,100%{opacity:1;transform:scale(1)}50%{opacity:0.7;transform:scale(1.1)}}
        .live-feed-body{max-height:calc(100vh - 280px);overflow-y:auto;padding:12px;}
        .live-feed-body::-webkit-scrollbar{width:6px;}
        .live-feed-body::-webkit-scrollbar-track{background:var(--bg);}
        .live-feed-body::-webkit-scrollbar-thumb{background:var(--border);border-radius:3px;}
        .live-order-card{background:linear-gradient(to bottom,var(--white),var(--bg));border:1px solid var(--border);border-radius:10px;padding:12px;margin-bottom:8px;transition:border-color 0.2s,box-shadow 0.2s,transform 0.2s;}
        .live-order-card[data-order-id]:first-child{animation:fadeUp 0.3s ease both;}
        .live-order-card:hover{border-color:var(--accent);box-shadow:0 2px 8px rgba(200,145,58,0.1);transform:translateY(-1px);}
        .live-order-card:last-child{margin-bottom:0;}
        .live-order-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px;}
        .live-order-num{font-weight:700;font-size:13px;color:var(--accent);letter-spacing:0.02em;}
        .live-order-status{display:inline-flex;align-items:center;gap:4px;padding:3px 9px;border-radius:10px;font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:0.06em;}
        .status-in-progress{background:#fff4e6;color:#d97706;border:1px solid #ffedd5;}
        .status-ready{background:#e8f5ee;color:var(--green);border:1px solid #d1fae5;}
        .status-picked{background:#f3f4f6;color:var(--muted);border:1px solid #e5e7eb;}
        .live-order-info{font-size:11px;color:var(--muted);margin-bottom:6px;display:flex;align-items:center;gap:6px;}
        .live-order-info::before{content:"üë§";font-size:12px;}
        .live-order-items{font-size:11px;color:var(--ink2);line-height:1.4;margin-bottom:4px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;}
        .live-order-time{font-size:10px;color:var(--muted);display:flex;align-items:center;gap:4px;}
        .live-order-time::before{content:"üïê";font-size:10px;}
        .empty-feed{padding:40px 20px;text-align:center;color:var(--muted);font-size:12px;}

        /* Mobile-friendly: touch targets and safe areas */
        @media (max-width: 768px) {
            body{padding-bottom:env(safe-area-inset-bottom);}
            .nav{padding:0 12px;height:auto;min-height:56px;flex-wrap:wrap;gap:8px;padding-left:max(12px,env(safe-area-inset-left));padding-right:max(12px,env(safe-area-inset-right));}
            .nav-logo-search{max-width:100%;order:1;flex:1 1 100%;}
            .logo{font-size:20px;}
            .nav-search{max-width:100%;}
            .nav-search input{font-size:16px;min-height:44px;}
            .nav-center{display:none;}
            .nav-right{width:100%;justify-content:flex-end;flex-wrap:wrap;gap:8px;margin-bottom:4px;order:2;}
            .nav-right .btn-admin,.nav-right .btn-logout,.nav-right .cart-btn,.nav-right .lang-select{min-height:44px;padding:10px 14px;}
            .category-bar{padding:0 12px;padding-left:max(12px,env(safe-area-inset-left));}
            .cat-tab{padding:12px 16px;min-height:44px;font-size:13px;}
            .menu-container{padding:16px;padding-left:max(16px,env(safe-area-inset-left));padding-right:max(16px,env(safe-area-inset-right));}
            .menu-grid{grid-template-columns:1fr;gap:16px;}
            .menu-card-img{height:140px;font-size:48px;}
            .menu-card-body{padding:14px;}
            .add-btn{min-height:48px;font-size:14px;}
            .page-header{padding:0 16px;min-height:56px;padding-left:max(16px,env(safe-area-inset-left));}
            .back-btn,.page-title{min-height:44px;display:inline-flex;align-items:center;}
            .cart-layout{padding:16px;gap:16px;}
            .cart-item{padding:14px 16px;flex-wrap:wrap;}
            .qty-btn{min-width:44px;min-height:44px;}
            .checkout-btn,.form-input{min-height:48px;font-size:16px;}
            .live-feed-panel{position:static;}
            .live-feed-body{max-height:280px;}
        }
        @media (max-width: 480px) {
            .nav .logo{font-size:18px;}
            .cart-btn span:not(.cart-count){display:none;}
            .summary-panel{position:static;}
        }
        .cart-items-panel{background:var(--white);border:1px solid var(--border);border-radius:12px;overflow:hidden;}
        .panel-head{padding:16px 20px;border-bottom:1px solid var(--border);font-size:13px;font-weight:600;letter-spacing:0.04em;text-transform:uppercase;color:var(--muted);}
        .cart-item{display:flex;align-items:center;gap:14px;padding:16px 20px;border-bottom:1px solid var(--border);animation:fadeUp 0.3s ease both;}
        .cart-item:last-child{border-bottom:none;}
        .cart-item-emoji{font-size:32px;width:48px;text-align:center;}
        .cart-item-info{flex:1;}
        .cart-item-name{font-weight:600;font-size:14px;margin-bottom:2px;}
        .cart-item-unit{font-size:12px;color:var(--muted);}
        .qty-control{display:flex;align-items:center;border:1px solid var(--border);border-radius:8px;overflow:hidden;}
        .qty-btn{width:32px;height:32px;border:none;background:var(--surface);cursor:pointer;font-size:16px;color:var(--ink);transition:background 0.15s;display:flex;align-items:center;justify-content:center;}
        .qty-btn:hover{background:var(--border);}
        .qty-num{width:36px;text-align:center;font-size:14px;font-weight:600;background:white;color:var(--ink);}
        .cart-item-total{font-family:'Cormorant Garamond',serif;font-size:18px;font-weight:600;min-width:60px;text-align:right;}
        .remove-btn{background:none;border:none;color:var(--muted);cursor:pointer;font-size:18px;padding:4px;border-radius:4px;transition:color 0.2s;}
        .remove-btn:hover{color:var(--red);}
        .summary-panel{background:var(--white);border:1px solid var(--border);border-radius:12px;overflow:hidden;position:sticky;top:80px;}
        .summary-rows{padding:20px;display:flex;flex-direction:column;gap:12px;}
        .summary-row{display:flex;justify-content:space-between;font-size:14px;color:var(--ink2);}
        .summary-row.total{padding-top:12px;border-top:1px solid var(--border);font-weight:600;font-size:16px;color:var(--ink);}
        .summary-row.total .val{font-family:'Cormorant Garamond',serif;font-size:22px;color:var(--accent);}
        .customer-form{padding:20px;border-top:1px solid var(--border);}
        .form-label{font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:0.08em;color:var(--muted);margin-bottom:6px;display:block;}
        .form-input{width:100%;padding:10px 14px;border:1px solid var(--border);border-radius:8px;font-family:'Outfit',sans-serif;font-size:14px;color:var(--ink);background:var(--bg);outline:none;transition:border-color 0.2s;margin-bottom:12px;}
        .form-input:focus{border-color:var(--accent);}
        .checkout-btn{width:100%;background:var(--accent);color:white;border:none;border-radius:10px;padding:14px;font-family:'Outfit',sans-serif;font-size:15px;font-weight:600;cursor:pointer;transition:background 0.2s;margin-top:4px;}
        .checkout-btn:hover{background:var(--accent-dark);}
        .empty-cart{padding:60px 20px;text-align:center;color:var(--muted);}
        .empty-cart .icon{font-size:48px;margin-bottom:12px;}
        .empty-cart p{font-size:14px;}
        .success-overlay{position:fixed;inset:0;background:rgba(26,23,20,0.6);z-index:2000;display:none;align-items:center;justify-content:center;backdrop-filter:blur(6px);}
        .success-overlay.open{display:flex;}
        .success-card{background:white;border-radius:20px;padding:48px 40px;text-align:center;max-width:400px;width:90%;animation:modalIn 0.3s ease both;}
        .success-icon{font-size:56px;margin-bottom:16px;}
        .success-title{font-family:'Cormorant Garamond',serif;font-size:32px;font-weight:600;margin-bottom:8px;}
        .success-sub{color:var(--muted);font-size:14px;margin-bottom:28px;line-height:1.6;}
        .success-order{background:var(--surface);border-radius:10px;padding:20px;margin-bottom:24px;font-size:14px;color:var(--ink2);text-align:left;}
        .success-order .order-label{font-size:11px;text-transform:uppercase;letter-spacing:0.08em;color:var(--muted);margin-bottom:4px;}
        .success-order .order-value{font-weight:600;color:var(--ink);margin-bottom:12px;}
        .success-order .order-value:last-of-type{margin-bottom:0;}
        .success-order .order-items{border-top:1px solid var(--border);padding-top:12px;margin-top:12px;}
        .success-order .order-item{display:flex;justify-content:space-between;padding:6px 0;font-size:13px;}
        .success-order .order-item-name{color:var(--ink);}
        .success-order .order-item-qty{color:var(--muted);margin-left:8px;}
        .success-order .order-total-row{display:flex;justify-content:space-between;padding-top:10px;margin-top:10px;border-top:1px solid var(--border);font-weight:600;font-size:15px;color:var(--accent);}
        .success-order .order-notes{margin-top:10px;padding-top:10px;border-top:1px solid var(--border);font-size:12px;color:var(--muted);font-style:italic;}
        .lang-select{padding:6px 10px;border:1px solid var(--border);border-radius:6px;font-size:12px;font-family:'Outfit',sans-serif;color:var(--ink2);background:var(--bg);cursor:pointer;}
        .lang-select:focus{outline:none;border-color:var(--accent);}
        .toast{position:fixed;bottom:24px;left:50%;transform:translateX(-50%) translateY(80px);background:var(--ink);color:white;padding:12px 22px;border-radius:30px;font-size:13px;font-weight:500;z-index:3000;transition:transform 0.3s cubic-bezier(0.34,1.56,0.64,1);pointer-events:none;}
        .toast.show{transform:translateX(-50%) translateY(0);}
        select.form-input{appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8'%3E%3Cpath d='M1 1l5 5 5-5' stroke='%239e9890' stroke-width='1.5' fill='none' stroke-linecap='round'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 12px center;}
        @keyframes fadeUp{from{opacity:0;transform:translateY(16px)}to{opacity:1;transform:translateY(0)}}
        @keyframes modalIn{from{opacity:0;transform:scale(0.92) translateY(16px)}to{opacity:1;transform:scale(1) translateY(0)}}
    </style>
</head>
<body>

<!-- MENU VIEW -->
<div id="view-menu" class="view active">
    <nav class="nav">
        <div class="nav-logo-search">
            <div class="logo">Wake<span>¬∑</span>Donalds üçî</div>
            <div class="nav-search">
                <input type="text" id="menu-search" data-i18n-placeholder="nav_search_food" placeholder="Search food‚Ä¶" autocomplete="off" aria-label="Search menu"/>
            </div>
        </div>
        <div class="nav-center" id="nav-user"></div>
        <div class="nav-right">
            <select id="lang-select" class="lang-select" aria-label="Language">
                <option value="en">English</option>
                <option value="es">Espa√±ol</option>
            </select>
            <a href="order-history.html" class="btn-admin" id="nav-order-history" style="display:none;text-decoration:none" data-i18n="nav_order_history">üìã Order History</a>
            <a href="admin.html" class="btn-admin" id="nav-admin-btn" style="display:none;text-decoration:none" data-i18n="nav_admin">‚öô Admin</a>
            <button class="btn-logout" onclick="logout()" data-i18n="nav_logout">Logout</button>
            <button class="cart-btn" onclick="showView('cart')">
                üõí <span data-i18n="nav_view_order">View Order</span> <span class="cart-count" id="cart-count">0</span>
            </button>
        </div>
    </nav>
    <div class="category-bar" id="category-bar"></div>
    <div class="menu-container">
        <div class="menu-content">
            <div class="menu-body" id="menu-body"></div>
        </div>
        <aside class="live-feed-panel">
            <div class="live-feed-header">
                <div class="live-feed-title">
                    <span class="pulse"></span>
                    <span data-i18n="cart_my_orders">Your Orders</span>
                </div>
                <div class="live-feed-subtitle" data-i18n="cart_my_orders_sub">Status updates</div>
            </div>
            <div class="live-feed-body" id="live-feed-body">
                <div class="empty-feed" data-i18n="cart_no_orders">No orders yet</div>
            </div>
        </aside>
    </div>
</div>

<!-- CART VIEW -->
<div id="view-cart" class="view">
    <div class="page-header">
        <button class="back-btn" onclick="showView('menu')" data-i18n="nav_back_menu">‚Üê Back to Menu</button>
        <div class="page-title" data-i18n="cart_your_order">Your Order</div>
    </div>
    <div class="cart-layout">
        <div class="cart-items-panel">
            <div class="panel-head" data-i18n="cart_order_items">Order Items</div>
            <div id="cart-items-list"></div>
        </div>
        <div class="summary-panel">
            <div class="panel-head" data-i18n="cart_order_summary">Order Summary</div>
            <div class="summary-rows" id="summary-rows"></div>
            <div class="customer-form">
                <label class="form-label" data-i18n="cart_customer_name">Customer Name</label>
                <input class="form-input" id="customer-name" placeholder="John Smith"/>
                <label class="form-label" data-i18n="cart_email">Email <span style="color:var(--red)">*</span></label>
                <input class="form-input" id="customer-email" type="email" placeholder="you@example.com" required/>
                <label class="form-label" data-i18n="cart_phone">Phone (optional)</label>
                <input class="form-input" id="phone-num" type="tel" inputmode="numeric" maxlength="14" placeholder="(252) 123-4567" oninput="formatPhoneInput(this)"/>
                <span class="form-hint" id="phone-hint" style="display:none;font-size:11px;color:var(--muted);margin-top:-8px;margin-bottom:8px;">10 digits, numbers only</span>
                <label class="form-label" data-i18n="cart_special_notes">Special Notes</label>
                <input class="form-input" id="special-notes" placeholder="Allergies, preferences‚Ä¶"/>
                <button class="checkout-btn" onclick="placeOrder()" data-i18n="cart_place_order">Place Order ‚Üí</button>
            </div>
        </div>
    </div>
</div>

<!-- SUCCESS -->
<div class="success-overlay" id="success-overlay">
    <div class="success-card">
        <div class="success-icon">‚úÖ</div>
        <div class="success-title" data-i18n="success_title">Order Placed!</div>
        <div class="success-sub" data-i18n-html="success_sub">Your order has been sent to the kitchen.<br>We'll have it ready shortly.</div>
        <div class="success-order" id="success-details"></div>
        <button class="checkout-btn" onclick="closeSuccess()" data-i18n="success_back">Back to Menu</button>
    </div>
</div>

<div class="toast" id="toast"></div>

<script src="js/i18n.js"></script>
<script src="js/restaurant-pos.js"></script>
</body>
</html>